{"content":"<h1 id=\"自适应页面\">自适应页面</h1>\n<p><strong>由于 viewport 单位得到众多浏览器的兼容，lib-flexible 这个过渡方案已经可以放弃使用，官方已经不再维护了，不管是现在的版本还是以前的版本，都存有一定的问题。建议大家开始使用 vw 的兼容方案来替代此方案。</strong></p>\n<h2 id=\"rem-适配\">rem 适配</h2>\n<blockquote>\n<p>浏览器兼容性<a href=\"https://caniuse.com/?search=rem\">caniuse</a></p>\n</blockquote>\n<p><strong>实现方式：</strong><br>1.通过 amfe-flexible 动态的改变 html 跟元素 font-size 的值。<br>2.通过 postcss-pxtorem 插件将 css 文件中的 px 转为 rem。</p>\n<ul>\n<li><p>amfe-flexible</p>\n<blockquote>\n<p>需要在 head 里面添加&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;<br>自动给根节点 html 元素设置 font-size = 屏幕宽度/10<br>1rem = html 的 font-size<br>适配需结合设计稿，假如设计稿的宽度为 750，则 1rem 应该等于 75。(px 转 rem 也是根据这个规则来计算)</p>\n</blockquote>\n</li>\n<li><p>postcss-pxtorem<br>大写的 PX，可以禁止 px 转 rem，比如边框 1px 问题</p>\n</li>\n</ul>\n<pre><code class=\"hljs json\"><span class=\"hljs-attr\">&quot;postcss-pxtorem&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;rootValue&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">75</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-comment\">// 设计稿宽度的1/10</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<h2 id=\"viewport-适配\">viewport 适配</h2>\n<blockquote>\n<p>浏览器兼容性<a href=\"https://caniuse.com/?search=rem\">caniuse</a></p>\n</blockquote>\n<p><strong>实现原理</strong><br>css3 引入 vw,vh 视口单位，分别表示视口的宽度 100vw 和高度 100vh。例如： 当前设计稿是 750，则用 vw 表示为 1px = （1/750）*100vw。直接相对于视口进行计算，比较简单，不过百分比可能出现小数</p>\n<blockquote>\n<p>postcss-px-to-viewport 插件可以将 px 转换为 vw 单位</p>\n</blockquote>\n<ul>\n<li>webpack 配置</li>\n</ul>\n<pre><code class=\"hljs js\">{\n  <span class=\"hljs-attr\">plugins</span>: [\n    <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;postcss-px-to-viewport&quot;</span>)({\n      <span class=\"hljs-attr\">viewportWidth</span>: <span class=\"hljs-number\">750</span>,\n      <span class=\"hljs-attr\">viewportHeight</span>: <span class=\"hljs-number\">1334</span>,\n      <span class=\"hljs-attr\">unitPrecision</span>: <span class=\"hljs-number\">3</span>,\n      <span class=\"hljs-attr\">viewportUnit</span>: <span class=\"hljs-string\">&quot;vw&quot;</span>,\n      <span class=\"hljs-attr\">selectorBlackList</span>: [<span class=\"hljs-string\">&quot;.ignore&quot;</span>, <span class=\"hljs-string\">&quot;.hairlines&quot;</span>],\n      <span class=\"hljs-attr\">minPixelValue</span>: <span class=\"hljs-number\">1</span>,\n      <span class=\"hljs-attr\">mediaQuery</span>: <span class=\"hljs-literal\">false</span>,\n    }),\n  ];\n}\n</code></pre>\n","fileName":"fitlayout"}